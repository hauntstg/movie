(this["webpackJsonpreact-clone"]=this["webpackJsonpreact-clone"]||[]).push([[0],[,,,,function(e,t,a){e.exports={"detail-movie":"MovieDetail_detail-movie__3NSQb",content:"MovieDetail_content__2cDg-",name:"MovieDetail_name__71QHp",releaseDate:"MovieDetail_releaseDate__h9SCK",vote:"MovieDetail_vote__1LpfA",overview:"MovieDetail_overview__3s5VI",video:"MovieDetail_video__1dsq_","img-trailer":"MovieDetail_img-trailer__1qK4K",loading:"MovieDetail_loading__tsTO9"}},function(e,t,a){e.exports={"wrap-list":"ResultList_wrap-list__-vPSI",title:"ResultList_title__135AQ","movie-list":"ResultList_movie-list__1Qkor",backdrop:"ResultList_backdrop__3766f",loading:"ResultList_loading__201rB","not-found":"ResultList_not-found__3TIos"}},function(e,t,a){e.exports={title:"MovieList_title__2jT5A","wrap-list":"MovieList_wrap-list__2YgSg","movie-list":"MovieList_movie-list__2700a",backdrop:"MovieList_backdrop__101EI",poster:"MovieList_poster__3oiCD",loading:"MovieList_loading__43h_X","not-found":"MovieList_not-found__3Wk6p"}},,function(e,t,a){e.exports={"form-search":"SearchForm_form-search__zdWMs","input-icon":"SearchForm_input-icon__2c2W0",btn:"SearchForm_btn__gMIJc","btn-reset":"SearchForm_btn-reset__2YlO4","btn-search":"SearchForm_btn-search__2wg0I"}},,function(e,t,a){e.exports={"result-modal":"ShowModal_result-modal__2g2_s",btn:"ShowModal_btn__t4WP5","btn-close":"ShowModal_btn-close__2P2cQ"}},,,,,function(e,t,a){e.exports={search:"Search_search__3EoM4"}},function(e,t,a){e.exports=a(38)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),i=a.n(r),c=(a(21),a(9)),s=a(2);a(22);var l=()=>{const e=Object(s.o)(),[t,a]=Object(n.useState)("navbar");return Object(n.useEffect)(()=>{const e=()=>{window.scrollY>100?a("navbar bg"):a("navbar")};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[]),o.a.createElement("div",{className:t},o.a.createElement(c.b,{to:"/"},"Movie App"),o.a.createElement("svg",{className:"svg-inline--fa fa-search fa-w-16",fill:"#ccc","aria-hidden":"true","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",onClick:function(){e("/search")}},o.a.createElement("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})))};a(23);var m=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[a,o]=Object(n.useState)(null),[r,i]=Object(n.useState)(!1),[c,s]=Object(n.useState)(""),[l,m]=Object(n.useState)("");return Object(n.useEffect)(()=>{const a=new AbortController;return(async()=>{i(!0);try{const n=await fetch(e,{signal:a.signal});if(!n.ok)throw o(),new Error("Request failed!");const r=await n.json();if(t){const e=Math.floor(Math.random()*r.results.length-1);m("https://image.tmdb.org/t/p/original/"+r.results[e].backdrop_path)}o(r)}catch(n){i(!1),s(n.message||"Something went wrong!")}i(!1)})(),()=>{a.abort()}},[e,t]),{data:a,isLoading:r,error:c,srcImg:l}},d=a(6),u=a.n(d),v=a(12),p=a(4),h=a.n(p);var g=e=>{var t,a,n,r,i;const{data:c,isLoading:s}=m("https://api.themoviedb.org/3/movie/".concat(e.data.id,"/videos?api_key=").concat("26aca73cc00eedccfee16b3cfae6784a"));let l;return l=o.a.createElement("div",{className:h.a["detail-movie"]},o.a.createElement("div",{className:h.a.content},o.a.createElement("h2",{className:h.a.name},null!==(t=e.data.name)&&void 0!==t?t:e.data.title),o.a.createElement("p",{className:h.a.releaseDate},"Release Date: ",null!==(a=e.data.release_date)&&void 0!==a?a:e.data.first_air_date),o.a.createElement("p",{className:h.a.vote},"Vote: ",e.data.vote_average),o.a.createElement("p",{className:h.a.overview},e.data.overview)),o.a.createElement("div",{className:h.a.video},(null===c||void 0===c||null===(n=c.results)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.key)?o.a.createElement(v.a,{videoId:null===c||void 0===c||null===(i=c.results)||void 0===i?void 0:i[0].key,opts:{height:"400",width:"100%",playerVars:{autoplay:0}}}):o.a.createElement("img",{className:h.a["img-trailer"],src:"https://image.tmdb.org/t/p/original/".concat(e.data.backdrop_path),alt:"trailer movie"}))),s&&(l=o.a.createElement("p",{className:h.a.loading},"Loading...")),o.a.createElement(o.a.Fragment,null,l)};var f=e=>{const[t,a]=Object(n.useState)(),[r,i]=Object(n.useState)({}),c=Object(n.useRef)(),{data:s,isLoading:l,error:d}=m(e.url),[v,p]=Object(n.useState)(!1);Object(n.useEffect)(()=>{let e,t,a=!1;const n=c.current;if(!n)return;const o=o=>{o.preventDefault(),o.stopPropagation(),a=!0,e=o.pageX,t=n.scrollLeft},r=o=>{if(!a)return;o.preventDefault();let r=o.pageX-e;n.scrollLeft=t-r,p(!0)},i=e=>{e.preventDefault(),a=!1,setTimeout(()=>p(!1),500)};return n.addEventListener("mousedown",o),n.addEventListener("mousemove",r),n.addEventListener("mouseup",i),()=>{n.removeEventListener("mousedown",o),n.removeEventListener("mousemove",r),n.removeEventListener("mouseup",i)}},[s]);const h=e=>{if(v)return;e.preventDefault(),(null===t||void 0===t?void 0:t.id)===e.target.id?a():a({id:e.target.id,src:e.target.src});const n=s.results.findIndex(t=>t.id===parseInt(e.target.id));i({...s.results[n]})};return o.a.createElement("div",{className:u.a["wrap-list"]},e.title&&o.a.createElement("span",{className:u.a.title},e.title),l&&o.a.createElement("p",{className:u.a.loading},"Loading..."),d&&o.a.createElement("p",{className:u.a["not-found"]},"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra: ",d),s&&o.a.createElement("div",{className:u.a["movie-list"],ref:c},s.results.map((t,a)=>o.a.createElement("img",{className:e.isPoster?u.a.poster:u.a.backdrop,src:"https://image.tmdb.org/t/p/original/".concat(e.isPoster?t.poster_path:t.backdrop_path),id:t.id,alt:"poster-original",key:a,onClick:h}))),t&&o.a.createElement(g,{data:r}))};const _="26aca73cc00eedccfee16b3cfae6784a",E={fetchTrending:"https://api.themoviedb.org/3/trending/all/week?api_key=".concat(_,"&language=en-US"),fetchNetflixOriginals:"https://api.themoviedb.org/3/discover/tv?api_key=".concat(_,"&with_network=123"),fetchTopRated:"https://api.themoviedb.org/3/movie/top_rated?api_key=".concat(_,"&language=en-US"),fetchActionMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(_,"&with_genres=28"),fetchComedyMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(_,"&with_genres=35"),fetchHorrorMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(_,"&with_genres=27"),fetchRomanceMovies:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(_,"&with_genres=10749"),fetchDocumentaries:"https://api.themoviedb.org/3/discover/movie?api_key=".concat(_,"&with_genres=99"),fetchSearch:"https://api.themoviedb.org/3/search/movie?api_key=".concat(_,"&language=en-US")};var b=function(){const{srcImg:e}=m(E.fetchNetflixOriginals,!0);return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"top-section"},o.a.createElement(l,null),o.a.createElement("img",{src:e,alt:"banner",className:"banner"})),o.a.createElement("div",{className:"bottom-section"},o.a.createElement(f,{url:E.fetchNetflixOriginals,isPoster:!0}),o.a.createElement(f,{url:E.fetchTrending,title:"Xu h\u01b0\u1edbng"}),o.a.createElement(f,{url:E.fetchTopRated,title:"X\u1ebfp h\u1ea1ng cao"}),o.a.createElement(f,{url:E.fetchActionMovies,title:"H\xe0nh \u0111\u1ed9ng"}),o.a.createElement(f,{url:E.fetchComedyMovies,title:"H\xe0i"}),o.a.createElement(f,{url:E.fetchHorrorMovies,title:"Kinh d\u1ecb"}),o.a.createElement(f,{url:E.fetchRomanceMovies,title:"L\xe3ng m\u1ea1n"}),o.a.createElement(f,{url:E.fetchDocumentaries,title:"T\xe0i li\u1ec7u"})))},w=a(8),k=a.n(w);var S=e=>{const t=Object(n.useRef)();function a(a){a.preventDefault(),e.onSearch(t.current.value)}return o.a.createElement("form",{className:k.a["form-search"]},o.a.createElement("div",{className:k.a["input-icon"]},o.a.createElement("input",{ref:t,onKeyDown:e=>{"Enter"===e.key&&a(e)}}),o.a.createElement("svg",{className:"svg-inline--fa fa-search fa-w-16",fill:"#ccc","aria-hidden":"true","data-prefix":"fas","data-icon":"search",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",onClick:a},o.a.createElement("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}))),o.a.createElement("div",{className:k.a.btn},o.a.createElement("button",{className:k.a["btn-reset"],onClick:function(e){e.preventDefault(),t.current.value="",a(e)}},"RESET"),o.a.createElement("button",{className:k.a["btn-search"],onClick:a},"SEARCH")))},N=a(5),y=a.n(N),M=a(10),L=a.n(M),O=Object(n.forwardRef)((function(e,t){let{data:a,onClose:n}=e;return Object(r.createPortal)(o.a.createElement("div",{ref:t,className:L.a["result-modal"]},o.a.createElement("div",{className:L.a.btn},o.a.createElement("button",{className:L.a["btn-close"],onClick:n},"Close")),o.a.createElement(g,{data:a})),document.getElementById("modal"))}));function j(e){const[t,a]=Object(n.useState)({}),r=Object(n.useRef)(),i=Object(n.useRef)(),c=e.keyword.replace(" ","+"),s=E.fetchSearch+"&query="+c,{data:l,isLoading:d,error:u}=m(s);function v(t){const n=l.results.findIndex(e=>e.id===parseInt(t.target.id));a({...l.results[n]}),i.current.style.display="block",e.onSetOpacity(!0)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(O,{ref:i,data:t,onClose:function(){a({}),i.current.style.display="none",e.onSetOpacity(!1)}}),o.a.createElement("div",{className:y.a["wrap-list"]},l&&l.total_results>0&&o.a.createElement("span",{className:y.a.title},"Result Search"),d&&c&&o.a.createElement("p",{className:y.a.loading},"Loading..."),!d&&l&&o.a.createElement("div",{className:y.a["movie-list"],ref:r},l.results.map((t,a)=>t.poster_path&&o.a.createElement("img",{className:e.isPoster?y.a.poster:y.a.backdrop,src:"https://image.tmdb.org/t/p/original/".concat(t.poster_path),id:t.id,alt:"poster-original",key:a,onClick:v}))),!d&&c&&l&&0===l.total_results&&o.a.createElement("p",{className:y.a["not-found"]},"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p."),!d&&c&&!l&&u&&o.a.createElement("p",{className:y.a["not-found"]},"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra: ",u)))}var D=a(15),R=a.n(D);var x=()=>{const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)("");return o.a.createElement("div",{className:"".concat(R.a.search," ").concat(e?" active":"")},o.a.createElement(l,null),o.a.createElement(S,{onSearch:e=>{r(e)}}),o.a.createElement(j,{keyword:a,onSetOpacity:function(e){t(e)}}))};var C=function(){return o.a.createElement(c.a,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",element:o.a.createElement(b,null)}),o.a.createElement(s.a,{path:"/search",element:o.a.createElement(x,null)})))};const I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const a=e.installing;null!=a&&(a.onstatechange=()=>{"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/movie",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/movie","/service-worker.js");I?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{const n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):A(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):A(t,e)})}}()}],[[16,1,2]]]);
//# sourceMappingURL=main.8690b9f8.chunk.js.map